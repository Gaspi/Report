\begin{bnf}

\production{TheoryNames}
{\ites{\hlink{TheoryName}}{,}}

\hproduction{modname}{TheoryName}
{\opt{Id \lit{@}} Id \opt{Actuals} \opt{Mappings}}

\production{TheoryDeclName}
{\opt{Id \lit{@}} Id \opt{Actuals} \opt{TheoryMaps}}

\production{Names}
{\ites{\hlink{Name}}{,}}

\hproduction{name}{Name}
{\opt{\hlink{Id} \lit{@}} \hlink{IdOp} \opt{\hlink{Actuals}} \opt{\hlink{Mappings}} \opt{\lit{.} \hlink{IdOp}}}

\production{Actuals}
{\lit{[} \ites{\hlink{Actual}}{,} \lit{]}}

\hproduction{actual}{Actual}
{\hlink{Expr} \choice \hlink{TypeExpr}}

\production{Mappings}
{\lit{\mapb{}} \ites{Mapping}{,} \lit{\mape{}}}

\production{mapping}{Mapping}
{MappingLhs MappingRhs}

\production{MappingLhs}
{IdOp \rep{Bindings} \opt{\lit{:} \brc{\lit{TYPE} \choice \lit{THEORY}
\choice TypeExpr}}}

\hproduction{mapping-rhs}{MappingRhs}
{\lit{:=} \brc{Expr \choice TypeExpr}}

\production{TheoryMaps}
{\lit{\mapb{}} \ites{TheoryMap}{,} \lit{\mape{}}}

\production{TheoryMap}
{MappingLhs TheoryMapRhs}

\production{TheoryMapRhs}
{MapSubst \choice MapDef \choice MapRename}

\production{MapSubst}
{\lit{:=} \brc{Expr \choice TypeExpr}}

\production{MapDef}
{\lit{=} \brc{Expr \choice TypeExpr}}

\production{MapRename}
{\lit{::=} \brc{IdOp \choice Number}}

\production{IdOps}
{\ites{\hlink{IdOp}}{,}}

\production{IdOp}
{\hlink{Id} \ch \hlink{Opsym} \ch \hlink{Number}}

\production{Opsym}
{\hlink{Binop} \choice \hlink{Unaryop} \\[-0.1in]
&\choice& \lit{IF} \choice \lit{TRUE}
\choice \lit{FALSE} \choice \lit{[||]} \choice \lit{(||)} \choice \lit{\setb||\sete}}

\production{Binop}
{\lit{o} \choice \lit{IFF} \choice \lit{<=>} \choice \lit{IMPLIES} \choice \lit{=>} \choice \lit{WHEN} \choice 
 \lit{OR} \choice \lit{\char'134/} \choice \lit{AND} \\[-0.1in]
& \choice & 
 \lit{/\char'134} \choice \lit{\&} \choice \lit{XOR}
 \choice  \lit{ANDTHEN} \choice \lit{ORELSE} \choice \lit{\char'136} \choice \lit{+} \choice \lit{-} \choice
 \lit{*} \choice \lit{/} \\[-0.1in]
& \choice & \lit{++} \choice \lit{\char'176} \choice \lit{**} \choice \lit{//}
 \choice \lit{\char'136\char'136} \choice \lit{|-} \choice \lit{|=} \choice \lit{<|} \choice \lit{|>} \choice
 \lit{=} \\[-0.1in]
& \choice & \lit{/=} \choice \lit{==} \choice \lit{<} \choice \lit{<=}
 \choice \lit{>} \choice \lit{>=} \choice \lit{<<} \\[-0.1in]
& \choice & \lit{>>} \choice \lit{<<=} \choice \lit{>>=} \choice \lit{\#}
\choice \lit{@@} \choice \lit{\#\#}
}

\production{Unaryop}
{\lit{NOT} \choice \lit{\char'176} \choice \lit{[]} \choice \lit{<>} \choice \lit{-}}


\production{FormulaName}
{\lit{AXIOM} \choice \lit{CHALLENGE} \choice
\lit{CLAIM} \choice \lit{CONJECTURE} \choice \lit{COROLLARY}  \\[-0.1in]
&\choice & \lit{FACT} \choice \lit{FORMULA} \choice \lit{LAW} \choice \lit{LEMMA} \choice \lit{OBLIGATION}\\[-0.1in]
&\choice & \lit{POSTULATE} \choice \lit{PROPOSITION} \choice \lit{SUBLEMMA} \choice \lit{THEOREM} }
\end{bnf}
